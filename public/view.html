<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Genetic Delivery</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <style>
        body {
            background: lightblue;
        }
        
        hr {
            display: block;
            height: 1px;
            border: 0;
            border-top: 1px solid #ccc;
            margin: 1em 0;
            padding: 0;
        }
        
        #header {
            background: steelblue;
            width: 100%;
            height: auto;
            display: block;
        }
    </style>
</head>

<body>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>

    <div id="header">
        <hr>
        <h1 align="center">Genetic Delivery Results</h1>
        <br><input type="button" id="restart"
        <hr>
    </div>

    <div id="svgCanvasView">
    </div>
    </header>
    <script type="text/javascript">
        var socket = io('/admin');
        socket.on('connect', function() {
            socket.emit('request xy coords', "");
            socket.once('admin:pass:details', init_client_page);
        })


        //Global Data
        var packages = {};
        var droneConfig = {};
        var stats = {};
        var results = {};

        //Testing
        //init_client_page();


        function init_client_page(workDetials) {
            packages = workDetials.packages;
            droneConfig = workDetials.droneStats;
            stats = workDetails.stats;
            results = workDetails.finalRoute;
            
            document.getElementById("restart").onclick = restart;

            init_canvas();
            // draw_circles();
            // draw_paths();

        }

        function init_canvas() {
            var svgContainer = d3.select("body").select("#svgCanvasView").append("svg")
                .attr("width", window.document.width)
                .attr("height", window.document.width - document.getElementById('header').clientHeight);
            //alert(window.document.width + "");
        }

        function clear() {
            d3.select("body").select("#svgCanvasView").select("svg").html("");
        }

        function draw_circles() {
            //clear();
            var circles = d3.select("body").select("#svgCanvasView").selectAll("circle")
                .data(x_coords)
                .enter()
                .append("circle");
            var circleAttributes = circles
                .attr("cx", function(d) {
                    return d;
                })
                .attr("cy", function(d, i) {
                    return y_coords[i];
                })
                .attr("r", 3)
                .style("fill", "red");

        }

        function draw_paths() {
            
        }
        
        function restart(){
            link("information_submission.html")
        }
    </script>
</body>

</html>
